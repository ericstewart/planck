#!/bin/bash

source int-test/script/setup-env

$PLANCK -e '(+ 1 1)'

echo "Repeated ordered -e and -i, supressing nil"
$PLANCK -i $SRC/no-ns/foo.cljs -e ':a' -e 'nil' -i $SRC/no-ns/bar.cljs -e 2 -i $SRC/no-ns/foo.cljs

echo "Test require REPL special"
$PLANCK -s $SRC <<REPL_INPUT
(require 'test-require.core)
test-require.core/success
:cljs/quit
REPL_INPUT

echo "Test require-macros REPL special"
$PLANCK -s $SRC <<REPL_INPUT
(require-macros 'test-require-macros.core)
(+ 3 (test-require-macros.core/str->int "2"))
:cljs/quit
REPL_INPUT

echo "Test in-ns REPL special"
$PLANCK -s $SRC <<REPL_INPUT
(in-ns 'foo.bar)
::a
:cljs/quit
REPL_INPUT

